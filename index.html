<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <meta name="theme-color" content="#050607" />
  <title>SAIREN COLOR ARCHIVE</title>

  <!-- ✅ CSSはhead内。ここ以外に貼らない -->
  <link rel="stylesheet" href="./assets/css/styles.css">

  <!-- ✅ JSはdefer付きでhead内に置いてOK -->
  <script defer src="./assets/js/main.js"></script>

  <!-- ✅ CSSが読めてない＝白背景＆青リンクの原因。検知して警告 -->
  <style>
    /* CSSが読み込めたら styles.css 側で body{background:#050607;} になる想定 */
    .css-warning{
      position:fixed; inset:auto 12px 12px 12px;
      padding:12px 14px;
      border:1px solid rgba(255,80,80,.55);
      background:rgba(30,0,0,.72);
      color:#fff; font: 12px/1.5 system-ui,-apple-system,"Noto Sans JP",sans-serif;
      border-radius:12px;
      z-index:9999;
      display:none;
      white-space:pre-wrap;
    }
  </style>
</head>

<body class="page-home" data-page="home">
  <div class="css-warning" id="cssWarn">
CSSが読み込めていません → 白背景＆青リンクに戻ります。

原因候補：
1) ファイル位置が違う（Website/assets/css/styles.css にある？）
2) パスが違う（linkの ./assets/css/styles.css は合ってる？）
3) GitHub Pagesの公開ルートが違う（Website/ がルート？）
4) キャッシュ（URLに ?v=1 を付けて更新）
  </div>

  <header class="nav">
    <div class="wrap nav__inner">
      <a class="brand" href="./index.html">
        SAIREN<br><span>COLOR ARCHIVE</span>
      </a>

      <nav class="navlinks" aria-label="Primary">
        <a href="#works">Works</a>
        <a href="./index.html#about">About</a>
        <a href="https://www.tcda.shop/" target="_blank" rel="noopener">Apparel Brand</a>
      </nav>
    </div>
  </header>

  <main class="wrap">
    <section class="hero" id="top">
      <div class="hero__inner">
        <div class="hero__kicker">LIVE ARCHIVE / 構造としての色</div>

        <h1 class="hero__title">
          <span class="hero__titleCore"
            data-morph="構造。|アーティファクト|フィールドノート|ルックブック|色は装飾ではない。|これは服になる前の思考だ。">構造。</span>
        </h1>

        <p class="hero__sub">
          Visual thoughts archived as form.<br>
          スクロロールで“分類名”に変異します。
        </p>

        <div class="hud">
          <div class="hud__row"><span>x</span><b id="hudX">0.00</b></div>
          <div class="hud__row"><span>y</span><b id="hudY">0.00</b></div>
          <div class="hud__row"><span>t</span><b id="hudT">0.00s</b></div>
          <div class="hud__row"><span>state</span><b id="hudS">LIVE</b></div>
        </div>

        <a class="scrollHint" href="#works">SCROLL</a>
      </div>
    </section>

    <section id="works">
      <div class="sectionTitle">WORKS / 分類ノード（入口ポータル）</div>
      <div class="grid" id="worksGrid" aria-live="polite"></div>
    </section>

    <section id="about" class="about">
      <div class="sectionTitle">ABOUT</div>
      <p class="about__text">
        これは“服になる前の思考”のアーカイブ。<br>
        作品は分類されるが、分類は固定されない。構造は変異する。
      </p>
    </section>

    <footer class="footer">© 2025 SAIREN COLOR ARCHIVE</footer>
  </main>

  <div class="touchShield" aria-hidden="true"></div>

  <!-- ✅ “白背景に戻る”の即判定：背景が黒じゃなければ警告表示 -->
  <script>
    (function(){
      const warn = document.getElementById('cssWarn');
      const bg = getComputedStyle(document.body).backgroundColor;
      // styles.cssが読めていれば濃い黒系になる想定
      const looksDark = bg.includes('rgb(5') || bg.includes('rgb(0') || bg.includes('rgba(0');
      if(!looksDark && warn) warn.style.display = 'block';

      // JSが死んでたら気づけるようにタイトルに付与（main.js側でも上書きOK）
      setTimeout(() => {
        if(!document.documentElement.dataset.jsok){
          document.title = "SAIREN COLOR ARCHIVE (JS OFF)";
        }
      }, 800);
    })();
  </script>
</body>
</html>
